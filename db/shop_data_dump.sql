PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE categories (category_id INTEGER PRIMARY KEY AUTOINCREMENT,                                  name TEXT UNIQUE, description TEXT);
INSERT INTO "categories" VALUES(1,'Milk','Categories of milk');
INSERT INTO "categories" VALUES(2,'Fruit','Different kinds of fruit');
CREATE TABLE items (item_id INTEGER PRIMARY KEY AUTOINCREMENT,                                  name TEXT, category_id INTEGER, descr_item TEXT,                                  UNIQUE(category_id, name), FOREIGN KEY(category_id)                                  REFERENCES categories(category_id) ON DELETE CASCADE);
INSERT INTO "items" VALUES(1,'High Fat',1,'High Fat milk');
INSERT INTO "items" VALUES(2,'Low Fat',1,'Low Fat Milk');
CREATE TABLE times (time_id INTEGER PRIMARY KEY AUTOINCREMENT,                                  open REAL, close REAL,                                  UNIQUE(open, close));
INSERT INTO "times" VALUES(1,8.0,20.0);
INSERT INTO "times" VALUES(2,8.0,22.0);
CREATE TABLE schedules (schedule_id INTEGER PRIMARY KEY AUTOINCREMENT,                                 monday_id INTEGER, tuesday_id INTEGER,                                 wednesday_id INTEGER, thursday_id INTEGER,                                 friday_id INTEGER, saturday_id INTEGER,                                 sunday_id INTEGER,                                 UNIQUE(monday_id, tuesday_id,                                     wednesday_id, thursday_id, friday_id,                                     saturday_id, sunday_id),                                 FOREIGN KEY(monday_id) REFERENCES times(time_id) ON DELETE CASCADE,                                 FOREIGN KEY(tuesday_id) REFERENCES times(time_id) ON DELETE CASCADE,                                 FOREIGN KEY(wednesday_id) REFERENCES times(time_id) ON DELETE CASCADE,                                 FOREIGN KEY(thursday_id) REFERENCES times(time_id) ON DELETE CASCADE,                                 FOREIGN KEY(friday_id) REFERENCES times(time_id) ON DELETE CASCADE,                                 FOREIGN KEY(saturday_id) REFERENCES times(time_id) ON DELETE CASCADE,                                 FOREIGN KEY(sunday_id) REFERENCES times(time_id) ON DELETE CASCADE);
INSERT INTO "schedules" VALUES(1,1,1,1,1,1,2,2);
INSERT INTO "schedules" VALUES(2,1,1,1,1,2,2,2);
CREATE TABLE stores (store_id INTEGER PRIMARY KEY AUTOINCREMENT,                                 name TEXT, address TEXT UNIQUE,                                 latitude REAL, longitude REAL,                                 schedule_id INTEGER, UNIQUE(latitude, longitude),                                 FOREIGN KEY(schedule_id) REFERENCES schedules(schedule_id) ON DELETE CASCADE);
INSERT INTO "stores" VALUES(1,'Tokmanni','Kaijonharju 16',65.0587568,25.4775946,1);
INSERT INTO "stores" VALUES(2,'Sale','Kaijonharju 25',65.0600145,25.4792039,2);
CREATE TABLE prices (price_id INTEGER PRIMARY KEY AUTOINCREMENT,                                  value REAL, item_id INTEGER, store_id INTEGER,                                  timestamp INTEGER, UNIQUE(item_id, store_id),                                  FOREIGN KEY(item_id) REFERENCES items(item_id) ON DELETE CASCADE,                                  FOREIGN KEY(store_id) REFERENCES stores(store_id) ON DELETE CASCADE);
INSERT INTO "prices" VALUES(1,0.98,1,'1',1234915418);
INSERT INTO "prices" VALUES(2,1.1,1,'2',1234915419);
DELETE FROM sqlite_sequence;
INSERT INTO "sqlite_sequence" VALUES('categories',2);
INSERT INTO "sqlite_sequence" VALUES('times',2);
INSERT INTO "sqlite_sequence" VALUES('schedules',2);
INSERT INTO "sqlite_sequence" VALUES('stores',2);
INSERT INTO "sqlite_sequence" VALUES('items',2);
INSERT INTO "sqlite_sequence" VALUES('prices',2);
COMMIT;
